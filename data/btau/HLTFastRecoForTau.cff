#Primary Vertex
include "FastSimulation/Tracking/data/PixelVerticesProducer.cff"

# (Not-so) Regional Tracking
include "FastSimulation/Tracking/data/GlobalPixelTracking.cff"
# L2.5 pixel-seeded tracks for SingleTau(MET) collections (pT>5GeV/c)
module hltCtfWithMaterialTracksL25ElectronTau = FastTrackMerger {
    VInputTag TrackProducers = {
        globalPixelGSWithMaterialTracks
    }
    untracked bool SaveTracksOnly = true
    untracked double ptMin = 5.0
}

# L3 pixel-seeded tracks for Single Tau Collection (pT>1GeV/c)
module hltCtfWithMaterialTracksL3SingleTau = FastTrackMerger {
    VInputTag TrackProducers = {
        globalPixelGSWithMaterialTracks
    }
    untracked bool SaveTracksOnly = true
    untracked double ptMin = 1.0
}

module hltCtfWithMaterialTracksL3SingleTauRelaxed = FastTrackMerger {
    VInputTag TrackProducers = {
        globalPixelGSWithMaterialTracks
    }
    untracked bool SaveTracksOnly = true
    untracked double ptMin = 1.0
}

module hltCtfWithMaterialTracksL3SingleTauMET = FastTrackMerger {
    VInputTag TrackProducers = {
        globalPixelGSWithMaterialTracks
    }
    untracked bool SaveTracksOnly = true
    untracked double ptMin = 1.0
}

module hltCtfWithMaterialTracksL3SingleTauMETRelaxed = FastTrackMerger {
    VInputTag TrackProducers = {
        globalPixelGSWithMaterialTracks
    }
    untracked bool SaveTracksOnly = true
    untracked double ptMin = 1.0
}

module hltCtfWithMaterialTracksL3ElectronTau = FastTrackMerger {
    VInputTag TrackProducers = {
        globalPixelGSWithMaterialTracks
    }
    untracked bool SaveTracksOnly = true
    untracked double ptMin = 1.0
}

#L25Trk reconstruction
# sequence ckfTracksL25SingleTau = {globalPixelGSTracking & ctfWithMaterialTracksL25SingleTau}
# sequence ckfTracksL25SingleTauMET = { globalPixelGSTracking & ctfWithMaterialTracksL25SingleTauMET }

# sequence hltTracksL25ElectronTau = { globalPixelGSTracking, hltCtfWithMaterialTracksL25ElectronTau }

#L3Trk reconstruction

#--- Fastsim sequences replacing modules in tau paths ---#
sequence hltCkfTrackCandidatesL3SingleTau = { globalPixelGSTracking }
sequence hltCkfTrackCandidatesL3SingleTauRelaxed = { globalPixelGSTracking }
sequence hltCkfTrackCandidatesL3SingleTauMET = { globalPixelGSTracking }
sequence hltCkfTrackCandidatesL3SingleTauMETRelaxed = { globalPixelGSTracking }

# sequence fastSimCkfTracksL3SingleTauSequence = {globalPixelGSTracking, hltCtfWithMaterialTracksL3SingleTau}
# sequence fastSimCkfTracksL3SingleTauRelaxedSequence = {globalPixelGSTracking, hltCtfWithMaterialTracksL3SingleTauRelaxed}
# sequence fastSimCkfTracksL3SingleTauMETSequence = { globalPixelGSTracking & hltCtfWithMaterialTracksL3SingleTauMET }
# sequence fastSimCkfTracksL3SingleTauMETRelaxedSequence = { globalPixelGSTracking & hltCtfWithMaterialTracksL3SingleTauMETRelaxed }

# sequence hltTracksL3ElectronTau = { globalPixelGSTracking & hltCtfWithMaterialTracksL3ElectronTau }

